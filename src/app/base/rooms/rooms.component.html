<button type="button" class="btn btn-primary float-right m-2"
        data-toggle="modal" data-target="#searchModal"

        data-backdrop="static" data-keyboard="false">
  Cerca una postazione
</button>

<button type="button" class="btn btn-primary float-right m-2"
        data-toggle="modal" data-target="#addEditRoomModal"
        data-backdrop="static" data-keyboard="false"
        (click)="openAddRoom()">
  Crea una stanza
</button>

<!-- Search Occupations Modal -->
<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabelNew">Cerca una postazione</h5>
        <button type="button" class="close"
                data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <!-- non so ?-->
        <div class="form-froup row">

          <label class="col-sm-2 col-form-label">Occupazioni</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" [(ngModel)]="searchId"
                   placeholder="Inserire l'id della postazione">
            <input type="text" class="form-control" [(ngModel)]="searchUsername"
                   placeholder="Inserire username">
          </div>


        </div>

        <button (click)="searchOccupation()" class="btn btn-primary">
          Cerca
        </button>
        <button (click)="resetFilter()" class="btn btn-primary">
          Reset filtro
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Search Occupations Modal -->

<!-- Add-Edit Room Modal -->
<div class="modal fade" id="addEditRoomModal" tabindex="-1" role="dialog" aria-labelledby="addEditRoomModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addEditRoomModalLabel">{{roomAction === 'add' ? 'Add room' : 'Edit room'}}</h5>
        <button type="button" class="close"
                data-dismiss="modal" aria-label="Chiudi"
        (click)="closeAddEditRoom()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-add-edit-room [passedRoom]="addEditRoom" [noticeChangeVariable]="notifyChangeVariable" [action]="roomAction" ></app-add-edit-room>
      </div>
    </div>
  </div>
</div>
<!-- Add-Edit Room Modal -->

<!-- Add-Edit Workstation Modal -->
<div class="modal fade" id="addEditWorkstationModal" tabindex="-1" role="dialog" aria-labelledby="addEditWorkstationModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="addEditWorkstationModalLabel">{{workstationAction === 'add' ? 'Add workstation' : 'Edit workstation'}}</h5>
        <button type="button" class="close"
                (click)="closeAddEditWorkstation()"
                data-dismiss="modal" aria-label="Chiudi">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-add-edit-workstation [passedWorkstation]="addEditWorkstation" [noticeChangeVariable]="notifyChangeVariable" [action]="workstationAction"></app-add-edit-workstation>
      </div>
    </div>
  </div>
</div>
<!-- Add-Edit Workstation Modal -->

<table class="table table-striped" >
  <thead>
  <tr>
    <th>Stanze</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let key of getRoomsMapKeys()">

    <h3>Id: {{key}} | Nome: {{getRoomInfoById(key).roomname}} | Dimensioni: {{getRoomInfoById(key).xroom}}x{{getRoomInfoById(key).yroom}}</h3>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary float-right m-2"
            data-toggle="modal" data-target="#addEditWorkstationModal"
            data-backdrop="static" data-keyboard="false"
            (click)="openAddWorkstation(key)">
      Crea postazione
    </button>

    <button type="button" class="btn btn-primary float-right m-2"
    (click)="deleteRoom(key)">
      Elimina stanza
    </button>

    <button type="button" class="btn btn-primary float-right m-2"
            data-toggle="modal" data-target="#addEditRoomModal"
            data-backdrop="static" data-keyboard="false"
            (click)="openEditRoom(this.getRoomInfoById(key))">
      Modifica stanza
    </button>



    <table class="table table-striped" >
      <thead>
      <tr>
        <th>Id</th>
        <th>Tag</th>
        <th>Nome</th>
        <th>Posizione X</th>
        <th>Posizione Y</th>
        <th>Stato</th>
        <th>Sanificata</th>
        <th>Opzioni</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let dataItem of roomsMap.get(key)">
        <td>{{dataItem.id}}</td>
        <th>{{dataItem.tag}}</th>
        <td>{{dataItem.workstationname}}</td>
        <td>{{dataItem.xworkstation}}</td>
        <td>{{dataItem.yworkstation}}</td>
        <td>{{stateNumToString(dataItem.state)}}</td>
        <td>{{sanitizedNumToString(dataItem.sanitized)}}</td>
        <td>
          <button type="button" class="btn btn-light mr-1" (click)="deleteClick(dataItem)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
              <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
            </svg></button>
          <button type="button" class="btn btn-primary float-right m-2"
                  data-toggle="modal" data-target="#addEditWorkstationModal"
                  data-backdrop="static" data-keyboard="false"
                  (click)="openEditWorkstation(dataItem)">
            M
          </button>
        </td>
      </tr>
      </tbody>

    </table>
  </tr>
  </tbody>

</table>

